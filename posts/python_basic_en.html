<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-09-02">

<title>Quick Python basic course for OIST new students – RLog2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d75320580429fd03ccc14abf5aea7e44.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">RLog2</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">RLog2: RL blog 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://sigmoid.social/@kngwyu"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text">Mastodon</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/kngwyu"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text">Github</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Quick Python basic course for OIST new students</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">en</div>
                <div class="quarto-category">education</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 2, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#how-to-use-google-colab" id="toc-how-to-use-google-colab" class="nav-link active" data-scroll-target="#how-to-use-google-colab">0. How to use Google colab</a>
  <ul class="collapse">
  <li><a href="#exercise-0" id="toc-exercise-0" class="nav-link" data-scroll-target="#exercise-0">Exercise 0</a></li>
  </ul></li>
  <li><a href="#what-is-programming-language-and-what-is-python" id="toc-what-is-programming-language-and-what-is-python" class="nav-link" data-scroll-target="#what-is-programming-language-and-what-is-python">1. What is programming language and what is Python</a>
  <ul class="collapse">
  <li><a href="#what-is-a-programming-language" id="toc-what-is-a-programming-language" class="nav-link" data-scroll-target="#what-is-a-programming-language">What is a programming language?</a></li>
  <li><a href="#arithmetic-operations" id="toc-arithmetic-operations" class="nav-link" data-scroll-target="#arithmetic-operations">Arithmetic operations</a></li>
  <li><a href="#exercise-1.1" id="toc-exercise-1.1" class="nav-link" data-scroll-target="#exercise-1.1">Exercise 1.1</a></li>
  </ul></li>
  <li><a href="#basic-procedural-programming-concepts" id="toc-basic-procedural-programming-concepts" class="nav-link" data-scroll-target="#basic-procedural-programming-concepts">2. Basic (procedural) programming concepts</a>
  <ul class="collapse">
  <li><a href="#variable" id="toc-variable" class="nav-link" data-scroll-target="#variable">Variable</a></li>
  <li><a href="#expression-and-statements" id="toc-expression-and-statements" class="nav-link" data-scroll-target="#expression-and-statements">Expression and statements</a></li>
  <li><a href="#for-loop" id="toc-for-loop" class="nav-link" data-scroll-target="#for-loop">For loop</a>
  <ul class="collapse">
  <li><a href="#exercise-2.1" id="toc-exercise-2.1" class="nav-link" data-scroll-target="#exercise-2.1">Exercise 2.1</a></li>
  </ul></li>
  <li><a href="#if-statement" id="toc-if-statement" class="nav-link" data-scroll-target="#if-statement">If statement</a></li>
  <li><a href="#more-complex-logic-with-if-statement" id="toc-more-complex-logic-with-if-statement" class="nav-link" data-scroll-target="#more-complex-logic-with-if-statement">More complex logic with if statement</a>
  <ul class="collapse">
  <li><a href="#exercise-2.2" id="toc-exercise-2.2" class="nav-link" data-scroll-target="#exercise-2.2">Exercise 2.2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#data-types-and-encoding" id="toc-data-types-and-encoding" class="nav-link" data-scroll-target="#data-types-and-encoding">3. Data types and encoding</a>
  <ul class="collapse">
  <li><a href="#numerical-types" id="toc-numerical-types" class="nav-link" data-scroll-target="#numerical-types">Numerical types</a>
  <ul class="collapse">
  <li><a href="#intinterger-type" id="toc-intinterger-type" class="nav-link" data-scroll-target="#intinterger-type">int(interger) type</a></li>
  <li><a href="#float-type" id="toc-float-type" class="nav-link" data-scroll-target="#float-type">float type</a></li>
  </ul></li>
  <li><a href="#execercise-3.1" id="toc-execercise-3.1" class="nav-link" data-scroll-target="#execercise-3.1">Execercise 3.1</a>
  <ul class="collapse">
  <li><a href="#optional-the-hidden-power-of-python-integer" id="toc-optional-the-hidden-power-of-python-integer" class="nav-link" data-scroll-target="#optional-the-hidden-power-of-python-integer">Optional: the hidden power of Python integer</a></li>
  </ul></li>
  <li><a href="#text-and-list" id="toc-text-and-list" class="nav-link" data-scroll-target="#text-and-list">Text and List</a>
  <ul class="collapse">
  <li><a href="#text" id="toc-text" class="nav-link" data-scroll-target="#text">Text</a></li>
  <li><a href="#list" id="toc-list" class="nav-link" data-scroll-target="#list">List</a></li>
  <li><a href="#indexing-and-list-operatons" id="toc-indexing-and-list-operatons" class="nav-link" data-scroll-target="#indexing-and-list-operatons">Indexing and List operatons</a></li>
  </ul></li>
  <li><a href="#internal-representation-of-text" id="toc-internal-representation-of-text" class="nav-link" data-scroll-target="#internal-representation-of-text">Internal representation of text</a>
  <ul class="collapse">
  <li><a href="#excercise-3.1" id="toc-excercise-3.1" class="nav-link" data-scroll-target="#excercise-3.1">Excercise 3.1</a></li>
  </ul></li>
  <li><a href="#other-convenient-types" id="toc-other-convenient-types" class="nav-link" data-scroll-target="#other-convenient-types">Other Convenient Types</a>
  <ul class="collapse">
  <li><a href="#tuple" id="toc-tuple" class="nav-link" data-scroll-target="#tuple">Tuple</a></li>
  <li><a href="#dict" id="toc-dict" class="nav-link" data-scroll-target="#dict">Dict</a></li>
  <li><a href="#nonetype" id="toc-nonetype" class="nav-link" data-scroll-target="#nonetype">NoneType</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#function" id="toc-function" class="nav-link" data-scroll-target="#function">4: Function</a>
  <ul class="collapse">
  <li><a href="#recursion" id="toc-recursion" class="nav-link" data-scroll-target="#recursion">Recursion</a>
  <ul class="collapse">
  <li><a href="#execercise-4.1" id="toc-execercise-4.1" class="nav-link" data-scroll-target="#execercise-4.1">Execercise 4.1</a></li>
  </ul></li>
  <li><a href="#scope" id="toc-scope" class="nav-link" data-scroll-target="#scope">Scope</a></li>
  <li><a href="#type-annotation" id="toc-type-annotation" class="nav-link" data-scroll-target="#type-annotation">Type annotation</a></li>
  </ul></li>
  <li><a href="#class" id="toc-class" class="nav-link" data-scroll-target="#class">5: Class</a>
  <ul class="collapse">
  <li><a href="#basic-class" id="toc-basic-class" class="nav-link" data-scroll-target="#basic-class">Basic class</a></li>
  </ul></li>
  <li><a href="#module-imports-and-libraries" id="toc-module-imports-and-libraries" class="nav-link" data-scroll-target="#module-imports-and-libraries">6: Module Imports and Libraries</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="python_basic_en.out.ipynb" download="python_basic_en.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><a href="https://colab.research.google.com/github/kngwyu/rlog2/blob/main/posts/python_basic_en.ipynb" target="_blank"> <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"> </a></p>
<p>In this course, I aim to cover introductory topics in software engeneering and Python programming in short.</p>
<p>This teaching material is prepared for programming/CS course for OIST new students that was <strong>cancelled</strong> due to low interests.</p>
<p>You can open this notebook in <a href="https://colab.research.google.com/github/kngwyu/rlog2/blob/main/posts/python_basic_en.ipynb">Google colab</a> or download <code>.ipynb</code> file from the right pane. Please understand that Colab notebook is a variant of jupyter notebook customized by Google, so many features are different from standard <a href="https://jupyter.org/">jupyter notebook or jupyter lab</a>.</p>
<section id="how-to-use-google-colab" class="level1">
<h1>0. How to use Google colab</h1>
<p>In this course, we use Google Colab for exercise environment. After opening the link, select ‘Save Copy in Google Drive’ from the ‘File’ tab.</p>
<p>Colab notebook consists of <strong>cells</strong>, which can be either code or document.</p>
<ul>
<li>Code cells contain Python code. You can click the left most <code>[ ]</code> to execture the program in the cell. The executed result is inserted below the cell.</li>
<li>Markdown cells contain markdown document
<ul>
<li>Markdown is a format to write stcutured documents using plain text format.</li>
<li><code>#</code> for headings, <code>-</code> for lists, and <code>1.</code> for numbered lists</li>
</ul></li>
</ul>
<p>You can edit the cell by double-clicking it. Some shortcuts are available:</p>
<ul>
<li>Ctrl+c: copy</li>
<li>Ctrl+x: cut</li>
<li>Ctrl+v: paste</li>
<li>Ctrl+z: undo</li>
</ul>
<section id="exercise-0" class="level2">
<h2 class="anchored" data-anchor-id="exercise-0">Exercise 0</h2>
<p>Execute the cell below.</p>
<div id="3148ca5d-3d4a-4af6-9b43-4cbaef529130" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="op">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>4</code></pre>
</div>
</div>
</section>
</section>
<section id="what-is-programming-language-and-what-is-python" class="level1">
<h1>1. What is programming language and what is Python</h1>
<section id="what-is-a-programming-language" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-programming-language">What is a programming language?</h2>
<p>Let’s recall that mondern compueters have this kind of architecture:</p>
<div id="b5e8088d-0933-456b-8116-6f4956e6a20c" class="cell" data-execution_count="99">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> io <span class="im">import</span> BytesIO</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> urllib <span class="im">import</span> request</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> PIL <span class="im">import</span> Image</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>fd <span class="op">=</span> BytesIO(</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    request.urlopen(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"https://upload.wikimedia.org/wikipedia/commons/0/08/Computer_architecture_block_diagram.png"</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    ).read()</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>Image.<span class="bu">open</span>(fd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="99">
<div>
<figure class="figure">
<p><img src="python_basic_en_files/figure-html/cell-3-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This is called <a href="https://en.wikipedia.org/wiki/Von_Neumann_architecture">von Neumann architecture</a> and the basis of all modern computers. However, it is unclear <em>how you can give instructions to the computer</em>. Software, or program, is a way to do that. So, basically, software is the <strong>set of instructions to what to do</strong>. We can send software to the computer, and the software is stored in its memory and executed.</p>
<p>Note that software can be either very lower level or higher level. Computer itself can only understand very lower level language. For example, in X86-64 assembly which is common in today’s intel and AMD desktop CPU, <span class="math inline">\(3 + 1\)</span> in Python is written as below.</p>
<pre><code>mov al, 3   ; Move 3 into the AL register
add al, 1   ; Add 1 to AL</code></pre>
<p>This is quite low-level operation, and we, lazy programmers, don’t want to write this kind of very low-level operation by hand at every time!</p>
<p>Thus, we need a <strong>high-level language</strong> that can bridge our thoughts and low level machine language. There are two types of laguages with different execution scheme:</p>
<ol type="1">
<li>Compiled language (C, C++, Rust)</li>
<li>Interpreter language (Javascript, Python, Ruby)</li>
</ol>
<p>In compiled language, the program is converted to the machine language and then executed. For example, <code>3 + 1</code> is converted to <code>mov al, 3; add al, 1</code> as the example above. Because it’s once covnerted to machine languages, the code in compiled langauges are as fast as machine language.</p>
<p>Another one is interpreter language. In this case, software is executed within another software called interpreter without compiling it to machine language. They are often slower than compiled languages, but they are easier and good for begginners. Python fits this category, and Python interpreter is running behind this notebook on a part of really big computer clusters in Google.</p>
<p>Also, there are some kinds of programming languages with different philosophy:</p>
<ol type="1">
<li>Procedural (C, Rust)</li>
<li>Object-oriented (C++, Python)</li>
<li>Functional (Lisp, Haskell)</li>
</ol>
<p>Python is an object-oriented language, but it inherits lots of features from procedural langauges. We generally focus on the Python as <em>procedural</em> languages in the first half of this course, because it may be the easiest way to get into programming.</p>
</section>
<section id="arithmetic-operations" class="level2">
<h2 class="anchored" data-anchor-id="arithmetic-operations">Arithmetic operations</h2>
<p>Prease also refer to the <a href="https://docs.python.org/3/tutorial/introduction.html">official tutorial</a>. We can use <code>+-*/</code> for basic arithmetic operations.</p>
<div id="1ca35407-4094-4bc2-a3b4-7e64334c4ced" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="op">+</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>23</code></pre>
</div>
</div>
<p>Power is <code>**</code>, and the modulo is <code>%</code>.</p>
<div id="e575160d-7fe6-4acf-8683-ca79161dffb8" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span> <span class="op">**</span> <span class="dv">4</span>) <span class="op">%</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>6</code></pre>
</div>
</div>
<p>Addition is evaluated later than multiplication and division. We can use <code>()</code> to change the order.</p>
<div id="e867efc5-9ab6-456f-88fd-c8b6255b9ad2" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span> <span class="op">+</span> <span class="dv">5</span>) <span class="op">*</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>32</code></pre>
</div>
</div>
</section>
<section id="exercise-1.1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1.1">Exercise 1.1</h2>
<p>Compute how many seconds are in a day.</p>
</section>
</section>
<section id="basic-procedural-programming-concepts" class="level1">
<h1>2. Basic (procedural) programming concepts</h1>
<p>In the last chapter, we learned a bit about some philosophy of programming, and Python inhereted many things from procedural programming. So, what it procedural langauge? The programming model behind is that, in short, <strong>we have variables, and we do computations by changing the variable</strong>.</p>
<section id="variable" class="level2">
<h2 class="anchored" data-anchor-id="variable">Variable</h2>
<p>Variable is the most important concept. You may think of it is a container that has some value, and we can name it.</p>
<div id="92d313ce-498d-46c3-83f2-950f7a6b4903" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(var1)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>30
40</code></pre>
</div>
</div>
<p><code>=</code> is the syntax that assigns some value into the variable. There are some operators that changes the value in the variable in place.</p>
<p><code>print</code> is what I’m not explained yet, but please understand that it just shows the content of the given variable (or, more precisely, the evaluated result of the given experssion).</p>
<div id="4ef3246c-3ffa-4329-a356-86f2f7b0a76a" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="op">+=</span> <span class="dv">40</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>80</code></pre>
</div>
</div>
</section>
<section id="expression-and-statements" class="level2">
<h2 class="anchored" data-anchor-id="expression-and-statements">Expression and statements</h2>
<p>In Python, what we can assign into the variable is called expression. Expression includes numerical values, texts, and values themselves.</p>
<div id="219b9491-1cd8-4a38-9c67-0bce1767cf1a" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>var2 <span class="op">=</span> <span class="op">-</span><span class="dv">100</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>var3 <span class="op">=</span> var2</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>var3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>-100</code></pre>
</div>
</div>
<p>In Colab/Jupyter notebook, the last expression in the cell is printed out. In the cell above, the content of <code>var3</code> is printed out.</p>
<p>On the other hand, the assignement like <code>var1 = 20</code> is called statement. If the cell ends with statement, the notebook doesn’t show anything.</p>
</section>
<section id="for-loop" class="level2">
<h2 class="anchored" data-anchor-id="for-loop">For loop</h2>
<p>The power of the computer is in its speed. Todays computers can executre millionds of operations in a second. Thus, the most basic usage to utilize the computation power of computers is to make it repeat something. <code>for</code> loop the most basic way to do this. There is a <code>range</code> object that is often used with <code>for</code> loop, which represents certain numerical range.</p>
<div id="9af81fb0-5294-45bf-b113-15b0987dd87e" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>range(0, 10)</code></pre>
</div>
</div>
<p>For loop repeats something with this <code>range</code>.</p>
<div id="418717cb-f52f-4326-a304-79278c05022d" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>0
1
2
3
4
5
6
7
8
9</code></pre>
</div>
</div>
<p>Here, the program in the <code>for</code> loop is executed with variable <code>i</code> with all values in the range <code>[0, 10)</code> assigned.</p>
<p>Wait, did you notice this redundant four spaces?</p>
<pre><code>for i in range(10):
□□□□print(i)</code></pre>
<p>These spaces are called indentation and used to indicate that these statements are inside the for loop block. This indentation is used everywhere in Python, as we’ll see later. Note that two spaces and three spaces also work, but you should to have the same indentation width throughout your code.</p>
<p>Let’s go back to the for loop. It’s useful to accumulate values by <code>for</code> loop.</p>
<div id="c677ba5f-4b10-4f11-983d-b2ec2ad4c332" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sum_0_100 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">101</span>):</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    sum_0_100 <span class="op">+=</span> i</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>sum_0_100</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>5050</code></pre>
</div>
</div>
<section id="exercise-2.1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2.1">Exercise 2.1</h3>
<p>Compute <span class="math inline">\(\sum_{i=0}^{100} 2^k\)</span>.</p>
</section>
</section>
<section id="if-statement" class="level2">
<h2 class="anchored" data-anchor-id="if-statement">If statement</h2>
<p>The for loop is powerful, but not very frexible. It does the same thing everytime. However, we sometimes want to make the computer to do a differnt thing sometimes. Here, <code>if</code> statement is useful. <code>if</code> statement works with boolean values.</p>
<div id="fd78aada-b25d-43da-a5ed-0eb60c01da27" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>True</code></pre>
</div>
</div>
<div id="463c3862-ffb1-4ddf-a995-3518aec273f3" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>False</code></pre>
</div>
</div>
<p>In Python, <code>True</code> and <code>False</code> are boolean types. Some expression returns boolean type as the result. For example, comparing numbers by <code>&gt;</code> and <code>&lt;</code> returns <code>True</code> or <code>False</code>.</p>
<div id="16fb7dae-1d41-4715-b54b-505d898162f2" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">&lt;</span> <span class="dv">40</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>True</code></pre>
</div>
</div>
<div id="b01e13fd-54dd-4d46-9d8f-ae01374cf740" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span> <span class="op">&gt;</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>True</code></pre>
</div>
</div>
<p>We can use <code>a == b</code> for checking two numbers <code>a</code> and <code>b</code> are equal. Also, <code>&gt;=</code> and <code>&lt;=</code> represent <span class="math inline">\(\geq\)</span> and <span class="math inline">\(\leq\)</span>.</p>
<div id="28f0be56-9f04-49e2-b1ba-dcda35b1f672" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span> <span class="op">==</span> <span class="dv">40</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>True</code></pre>
</div>
</div>
<p>The <code>if</code> statement executes the code inside the block if the expression is evaluated as <code>True</code>.</p>
<div id="f78daa95-9b46-4b9b-bb23-4bd7e9789f96" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>var_a <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> var_a  <span class="op">&gt;</span> <span class="dv">90</span>:</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Hey</code></pre>
</div>
</div>
<p>Here, <code>print("Hey")</code> is executed because <code>var_a &gt; 90</code> is <code>True</code>.</p>
<div id="18002558-ec2d-415d-843a-3893ffa4f323" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> var_a  <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"No hey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>If the given expression is evaluated as <code>False</code>, nothing happens.</p>
<p>We can use if statement combined with <code>for</code> loop. For example, we can accumulate the sum of even numbers between <span class="math inline">\(0\)</span> and <span class="math inline">\(100\)</span> by:</p>
<div id="34b01f19-887c-4f53-9211-e84bcd46638e" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>even_sum_0_100 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">101</span>):</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>        even_sum_0_100 <span class="op">+=</span> i</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>even_sum_0_100</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>2550</code></pre>
</div>
</div>
</section>
<section id="more-complex-logic-with-if-statement" class="level2">
<h2 class="anchored" data-anchor-id="more-complex-logic-with-if-statement">More complex logic with if statement</h2>
<p><code>if</code> statement can have <code>else</code> branch if needed. If the given expression is <code>False</code>, statements in the <code>else</code> block is executed.</p>
<div id="bda2a88a-d4d9-487a-8094-99e769c38a0d" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> var_a  <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hey"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Not hey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Not hey</code></pre>
</div>
</div>
<p>If you need more branches, <code>if</code> statement can be really complex with <code>elif</code> (shorthand of <code>else if</code>) blocks.</p>
<div id="46824900-1afa-46f4-a5ad-85e39bdfa8da" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> var_a <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Cond 1"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> var_a <span class="op">==</span> <span class="dv">100</span>:</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Cond 2"</span>)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> var_a <span class="op">==</span> <span class="dv">99</span>:</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Cond 3"</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Cond 4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Cond 2</code></pre>
</div>
</div>
<p>The condition also can be a bit more complex. Python has <code>and</code> and <code>or</code> operators for boolean values, which does logical operations.</p>
<div id="fece67da-cbe8-4742-b7e5-f6a072bba7ee" class="cell" data-execution_count="22">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="va">True</span> <span class="kw">and</span> <span class="va">True</span>, <span class="va">True</span> <span class="kw">and</span> <span class="va">False</span>, <span class="va">False</span> <span class="kw">and</span> <span class="va">False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>(True, False, False)</code></pre>
</div>
</div>
<div id="cc4bac2f-e2b2-4126-bd54-72ce80f61e8f" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="va">True</span> <span class="kw">or</span> <span class="va">True</span>, <span class="va">True</span> <span class="kw">or</span> <span class="va">False</span>, <span class="va">False</span> <span class="kw">or</span> <span class="va">False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>(True, True, False)</code></pre>
</div>
</div>
<p>These operators are often combined with if statement to express complex conditions.</p>
<div id="a8e7f9fc-b1a5-49ce-af46-0d136daf1d86" class="cell" data-execution_count="24">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>var_b <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> var_a <span class="op">&gt;=</span> <span class="dv">100</span> <span class="kw">and</span> var_b <span class="op">&gt;=</span> <span class="dv">200</span>:</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hey!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Hey!</code></pre>
</div>
</div>
<section id="exercise-2.2" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2.2">Exercise 2.2</h3>
<p>Fix the program below (From https://utokyo-ipp.github.io/2/2-3.html).</p>
<div id="206bc15e-b6f6-4a0a-9da5-1650e8a4eae8" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">3</span>:</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x is larger than or equal to 2, and less than 3"</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> x <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x is larger than or equal to 1, and less than 2"</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> x <span class="op">&lt;</span> <span class="dv">1</span>:</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x is less than 1"</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x is larger or equal to 3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>x is larger than or equal to 2, and less than 3</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="data-types-and-encoding" class="level1">
<h1>3. Data types and encoding</h1>
<section id="numerical-types" class="level2">
<h2 class="anchored" data-anchor-id="numerical-types">Numerical types</h2>
<section id="intinterger-type" class="level3">
<h3 class="anchored" data-anchor-id="intinterger-type">int(interger) type</h3>
<p>Python has some builtin data types. So far, we used <code>int</code> type.</p>
<div id="fbef1958-b349-49dc-8629-24c936b1a40f" class="cell" data-execution_count="30">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(<span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>int</code></pre>
</div>
</div>
<p>On machine, int types have a simple representation by binary. Let’s see it:</p>
<div id="31ffc939-30a0-48a3-82a0-13cd193a6910" class="cell" data-execution_count="31">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="bu">bin</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>'0b100'</code></pre>
</div>
</div>
<p>We call the minimum unit of this binary representation (i.e., 0 or 1) <strong>bit</strong>. Although there is some tricks to where we store the bit for minus (<code>-</code>), for intergers, that’s it.</p>
</section>
<section id="float-type" class="level3">
<h3 class="anchored" data-anchor-id="float-type">float type</h3>
<p>But, for general real numbers like <code>3.14</code>, the situation is a bit complex.</p>
<div id="97360d62-1f09-429a-acdc-84ad43014ad8" class="cell" data-execution_count="33">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(<span class="fl">3.14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>float</code></pre>
</div>
</div>
<p>Real values are called <em>float type</em> in Python and some other programming languages. What does it mean? This example of representing <span class="math inline">\(12.345\)</span> from <a href="https://en.wikipedia.org/wiki/Floating-point_arithmetic">Wikipedia article</a> may be easy to understand.</p>
<p><span class="math display">\[
12.345=\underbrace{12345}_{\text{significand}}\times\underbrace{10}_{\text{base}}\underbrace{{}^{-3}}^{\text{exponent}}
\]</span></p>
<p>So, in computer, real values are stored by two intergers (significand and exponent) with the fixed base. Base <span class="math inline">\(2\)</span> is commonly used. This approximation of real numbers are called <strong>floating-point numbers</strong>, from which the type name <em>float</em> is derived.</p>
<p>On most computers available nowadays, Python’s float type has 1 bit for sign (<span class="math inline">\(+/-\)</span>), 11 bits for exponent, and 52 bits for significand. Thus, it has some limitations in precision.</p>
<div id="f97d41b7-7459-40dc-9f9e-aebe606b412f" class="cell" data-execution_count="34">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">/</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>3.3333333333333335</code></pre>
</div>
</div>
<p>The answer should be <span class="math inline">\(3.33333....\)</span>, but because it has only 52 bits for significand, it can’t express <span class="math inline">\(3.333333333333333\)</span>.</p>
<p>This limit of floating point representation sometimes causes large errors in some scienctific applications, and there are bunch of researches how to deal with the error.</p>
<p>BTW, please it is worth noting that the division operator <code>/</code> always returns float type. To get the interger as the result of division, use <code>//</code> instead.</p>
<div id="a891adaa-477f-4b3a-9c4f-b0d50bfcf996" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="op">/</span> <span class="dv">4</span>, <span class="bu">type</span>(<span class="dv">8</span> <span class="op">/</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>(2.0, float)</code></pre>
</div>
</div>
<div id="95bb8491-49bb-425a-bc5b-57462ac5cd52" class="cell" data-execution_count="41">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="op">//</span><span class="dv">4</span>, <span class="bu">type</span>(<span class="dv">8</span> <span class="op">//</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>(2, int)</code></pre>
</div>
</div>
</section>
</section>
<section id="execercise-3.1" class="level2">
<h2 class="anchored" data-anchor-id="execercise-3.1">Execercise 3.1</h2>
<p>Display the largest number in Python float.</p>
<section id="optional-the-hidden-power-of-python-integer" class="level3">
<h3 class="anchored" data-anchor-id="optional-the-hidden-power-of-python-integer">Optional: the hidden power of Python integer</h3>
<p>So, as we learned the limitation of Python float type, it seems natural to assume that Python int type has the same limitation by the restricted number of bits. Let’s try.</p>
<div id="bde9bb30-5675-40b7-8fe2-a83e499735c4" class="cell" data-execution_count="37">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="op">**</span> <span class="dv">120</span>, <span class="dv">2</span> <span class="op">**</span> <span class="dv">240</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>(1329227995784915872903807060280344576,
 1766847064778384329583297500742918515827483896875618958121606201292619776)</code></pre>
</div>
</div>
<p>Wait, what is that? We can somehow compute very large number using Python int.</p>
<p>This is because Python interger has 2 internal representations:</p>
<ul>
<li>Standard 64bit interger ranges from <span class="math inline">\(-9223372036854775808\)</span> to <span class="math inline">\(9223372036854775808\)</span></li>
<li>List of 64bit intergers to represent large numbers</li>
</ul>
<p>Python automatically switches into the later representation, so it can compute really big numbers.</p>
<p>Note that it’s unusual. In many programming languages, <code>int</code> is often 64bit and sometimes 32bit, thus the precision is limited.</p>
</section>
</section>
<section id="text-and-list" class="level2">
<h2 class="anchored" data-anchor-id="text-and-list">Text and List</h2>
<section id="text" class="level3">
<h3 class="anchored" data-anchor-id="text">Text</h3>
<p>We can use “” and ’’ to represent texts. Both have the same effect.</p>
<div id="7f7ed98b-0dc0-44e3-9adc-932995b47400" class="cell" data-execution_count="42">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">"Hey, programming is fun!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>'Hey, programming is fun!'</code></pre>
</div>
</div>
<div id="cf19aae8-3633-4e95-918a-d04e3970d3c0" class="cell" data-execution_count="44">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">'Hey, programming is fun!'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>'Hey, programming is fun!'</code></pre>
</div>
</div>
<p>This is called <code>str</code> type (prefix of <code>string</code>).</p>
</section>
<section id="list" class="level3">
<h3 class="anchored" data-anchor-id="list">List</h3>
<p>List is a convenient data type to store multiple values in one variable. We can construct a list by <code>[]</code>.</p>
<div id="a62425d9-cee1-4b8a-9ad1-60708be930ad" class="cell" data-execution_count="52">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>[<span class="st">"Hey"</span>, <span class="dv">2</span>, <span class="dv">4</span>, [<span class="st">"Yay"</span>, <span class="st">"Me"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>['Hey', 2, 4, ['Yay', 'Me']]</code></pre>
</div>
</div>
</section>
<section id="indexing-and-list-operatons" class="level3">
<h3 class="anchored" data-anchor-id="indexing-and-list-operatons">Indexing and List operatons</h3>
<p><code>[]</code> has another meaning: it can be a special operator for getting a part of list and str.</p>
<div id="c0af11ae-95c8-464b-a248-6f545f21ba90" class="cell" data-execution_count="93">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="93">
<pre><code>1</code></pre>
</div>
</div>
<p>We can update the value with this indexing syntax.</p>
<div id="a1d7d430-0238-4db1-a6d1-251c3e649144" class="cell" data-execution_count="94">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">0</span>] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="94">
<pre><code>[0, 2, 3, 4, 5]</code></pre>
</div>
</div>
<p>The indexing starts from zero. If the index is negative (say, <code>-i</code>, it indicates <code>length of the list - i - 1</code>.</p>
<div id="cb014c1c-7107-4543-8bf6-0137eee3216f" class="cell" data-execution_count="55">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>a[<span class="op">-</span><span class="dv">1</span>], a[<span class="op">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>(5, 4)</code></pre>
</div>
</div>
<p>There is a special syntax called slice combined with <code>[]</code>. <code>a[i:j]</code> returns a part of the list from index <code>i</code> to <code>j - 1</code>.</p>
<div id="fdf4690a-2a7c-4d7a-a967-1af104384740" class="cell" data-execution_count="56">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">2</span>: <span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>[3, 4]</code></pre>
</div>
</div>
<p>We can skip either start and end of the slice. Then, the default values (0 and the length of the list) are used. We can even skip both and write <code>a[:]</code>, but it’s just the same as <code>a</code>.</p>
<div id="902bf55e-7e4c-4c49-94ac-8eb4fe9e7d94" class="cell" data-execution_count="58">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">2</span>:], a[:<span class="dv">4</span>], a[:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>([3, 4, 5], [1, 2, 3, 4], [1, 2, 3, 4, 5])</code></pre>
</div>
</div>
<p>We can concatanate lists by <code>+</code>. If you just want to add a value, you can use the syntax <code>list.append</code>.</p>
<div id="35b9f412-257b-4c64-a580-8337c9b31811" class="cell" data-execution_count="59">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>a.append(<span class="op">-</span><span class="dv">3</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>[1, 2, 3, 4, 5, -1]</code></pre>
</div>
</div>
<div id="d51709cd-5e14-4c29-9bf4-643a74385295" class="cell" data-execution_count="62">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">+</span> [<span class="op">-</span><span class="dv">2</span>, <span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>[1, 2, 3, 4, 5, -1, -2, -1]</code></pre>
</div>
</div>
<p>Same operations can be done for str.</p>
<div id="96d4c54d-5e29-4dfc-bc63-c7d8f962ebb9" class="cell" data-execution_count="113">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">"Hey, programming is fun!"</span>[: <span class="op">-</span><span class="dv">4</span>] <span class="op">+</span> <span class="st">"not fun!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="113">
<pre><code>'Hey, programming is not fun!'</code></pre>
</div>
</div>
<p>Because text is so common in human society, there are plenty of methods to manipulate <code>str</code>. One example is the <em>templating</em> string.</p>
<div id="370e6fe9-b13a-41c6-bb62-3ef6182a6b42" class="cell" data-execution_count="115">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">"{} is fun"</span>.<span class="bu">format</span>(<span class="st">"Programming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>'Programming is fun'</code></pre>
</div>
</div>
<p>With this <code>str.format</code>, we can embed arbitary string and some values implicitly convertible to <code>str</code> to the point where <code>{}</code> indicates in the string. Because this is so common, Python has a special syntax for formatting called <em>f-string</em>.</p>
<div id="459bb103-8b3e-4ec9-8c07-d9fd4db1cae5" class="cell" data-execution_count="117">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="ss">f"The answer of 1 + 2 = </span><span class="sc">{</span><span class="dv">1</span> <span class="op">+</span> <span class="dv">2</span><span class="sc">}</span><span class="ss">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>'The answer of 1 + 2 = 3'</code></pre>
</div>
</div>
<p>f-string is so special in that inside <code>{}</code> we can write any Python expression. The result is converted to string and embed in the result.</p>
</section>
</section>
<section id="internal-representation-of-text" class="level2">
<h2 class="anchored" data-anchor-id="internal-representation-of-text">Internal representation of text</h2>
<p><code>str</code> in the machine is just numbers. We can convert it like:</p>
<div id="8e14f5cd-e63e-49e0-9503-c294e93dd8a0" class="cell" data-execution_count="67">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> <span class="st">"Hey"</span>.encode(<span class="st">"utf-8"</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>b'Hey'</code></pre>
</div>
</div>
<p><code>b</code> has a special type called bytes, which is a specialized list for small intergers. Actually it’s just a sequence of numbers</p>
<div id="72d43f68-cbe5-4354-b7ef-974225165b4e" class="cell" data-execution_count="70">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>b[<span class="dv">0</span>], b[<span class="dv">1</span>], b[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>(72, 101, 121)</code></pre>
</div>
</div>
<p>So, H is 72, e is 101, and y is 121 on the machine. For complex characters like ☀, more complex rules are used to convert it to numbers. See <a href="https://ja.wikipedia.org/wiki/UTF-8">UTF-8</a> if you are curious.</p>
<section id="excercise-3.1" class="level3">
<h3 class="anchored" data-anchor-id="excercise-3.1">Excercise 3.1</h3>
<p>Construct a list that contains all English alphabet in small case.</p>
<p>Note that you can convert number to str by:</p>
<div id="bdc537bc-960a-4307-9a87-cf069bdd26ca" class="cell" data-execution_count="81">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">97</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>a.to_bytes().decode(<span class="st">"utf-8"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>'a'</code></pre>
</div>
</div>
</section>
</section>
<section id="other-convenient-types" class="level2">
<h2 class="anchored" data-anchor-id="other-convenient-types">Other Convenient Types</h2>
<section id="tuple" class="level3">
<h3 class="anchored" data-anchor-id="tuple">Tuple</h3>
<p>Very similar to list, but has a bit different syntax and immutable. Use <code>()</code> to construct tuple.</p>
<div id="92c8cbf0-6de6-431a-9b3a-b2551edc575d" class="cell" data-execution_count="86">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Sun"</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>(1, 2, 'Sun', 4)</code></pre>
</div>
</div>
<p>We don’t need to use <code>()</code> in some situations. For example, as the last value of Notebook cell.</p>
<div id="1402517c-d11b-472f-98f3-4b5579de40ae" class="cell" data-execution_count="89">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Sun"</span>, <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="89">
<pre><code>(1, 2, 'Sun', 4)</code></pre>
</div>
</div>
<p>But I’d recommend you to always use <code>()</code> for tuple, especially for begginers.</p>
<p>Because tuple is immutable, we can’t update values in tuple.</p>
<div id="eeb534bc-ddeb-450b-a11c-3a0e345e6131" class="cell" data-execution_count="97">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Sun"</span>, <span class="dv">4</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>t[<span class="dv">0</span>] <span class="op">+=</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[97], line 2</span>
<span class="ansi-green-fg ansi-bold">      1</span> t <span style="color:rgb(98,98,98)">=</span> (<span style="color:rgb(98,98,98)">1</span>, <span style="color:rgb(98,98,98)">2</span>, <span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">Sun</span><span style="color:rgb(175,0,0)">"</span>, <span style="color:rgb(98,98,98)">4</span>)
<span class="ansi-green-fg">----&gt; 2</span> <span class="ansi-yellow-bg">t</span><span class="ansi-yellow-bg">[</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">0</span><span class="ansi-yellow-bg">]</span> <span style="color:rgb(98,98,98)">+</span><span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(98,98,98)">4</span>

<span class="ansi-red-fg">TypeError</span>: 'tuple' object does not support item assignment</pre>
</div>
</div>
</div>
<p><code>+</code> is allowed because it creates a new tuple.</p>
<div id="40e2e42f-a756-4ec9-aea8-ad2b51faeabc" class="cell" data-execution_count="98">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">+</span> (<span class="dv">5</span>, <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre><code>(1, 2, 'Sun', 4, 5, 6)</code></pre>
</div>
</div>
</section>
<section id="dict" class="level3">
<h3 class="anchored" data-anchor-id="dict">Dict</h3>
<p>Dict is a set of key and value pairs with fast access by key. We can make list by <code>{}</code> syntax.</p>
<div id="b3cce2a2-b194-43da-b428-2c88e530b2dd" class="cell" data-execution_count="82">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>user <span class="op">=</span> {</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Name"</span>: <span class="st">"Me"</span>,</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ID"</span>: <span class="dv">345</span>,</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>: <span class="dv">10</span>,</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We can use the index syntax to dict, though slicing <code>[:]</code> is not supported.</p>
<div id="25a07306-db7b-4883-a722-99525f11cbc8" class="cell" data-execution_count="100">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>user[<span class="st">"Name"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="100">
<pre><code>'Me'</code></pre>
</div>
</div>
</section>
<section id="nonetype" class="level3">
<h3 class="anchored" data-anchor-id="nonetype">NoneType</h3>
<p>It sounds a bit weird, but <code>None</code> is the special type that represents nothing.</p>
<div id="88362f8e-d432-4029-97eb-1c721a29a9d4" class="cell" data-execution_count="111">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The type of <code>None</code> is <code>NoneType</code>, and <code>None</code> is the only value of this type.</p>
<div id="a0dedc51-76b9-405d-915c-1aee1e38ee62" class="cell" data-execution_count="112">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(<span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="112">
<pre><code>NoneType</code></pre>
</div>
</div>
<p><code>None</code> is surprisingly useful in programming when some values can be missing, but maybe difficult for begginers to understand its value.</p>
</section>
</section>
</section>
<section id="function" class="level1">
<h1>4: Function</h1>
<p>Function is a fundamental concept in most programming languages. Note that it’s different from function in math. It’s more of an independent set of statements.</p>
<p><code>def function_name():</code> is a syntax for defining a function.</p>
<div id="d0b99f4a-abb9-4406-8e91-903c99870554" class="cell" data-execution_count="102">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function():</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>That’s it. We can <em>call</em> function by <code>function_name()</code> syntax</p>
<div id="19fb1cc1-b6ea-4b6f-8aec-005c9801302d" class="cell" data-execution_count="104">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>my_function()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Nothing happend. To get some effects from function, function can <strong>return value</strong> by <code>return ~</code> syntax.</p>
<div id="361c3043-8ece-4571-a975-34138bf10a7f" class="cell" data-execution_count="105">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> two():</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="f5dc76a8-6f2a-4854-96ec-9eb033bc7e1d" class="cell" data-execution_count="109">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>two()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="109">
<pre><code>2</code></pre>
</div>
</div>
<p>If there’s no <code>return</code> in the function, the evaluated value of function call is <code>None</code>.</p>
<div id="f4d0aad2-d325-44c4-83c8-4f282ffbe19d" class="cell" data-execution_count="110">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(my_function())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="110">
<pre><code>NoneType</code></pre>
</div>
</div>
<p>A typical benefit of making a function is reusability. For example, think about this code that tries to format month and date.</p>
<div id="36b473f8-089c-454a-a716-40b010688149" class="cell" data-execution_count="125">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>month <span class="op">=</span> <span class="dv">9</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>date <span class="op">=</span> <span class="dv">31</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> month <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>    month_str <span class="op">=</span> <span class="ss">f"0</span><span class="sc">{</span>month<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>    month_str <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>month<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> date <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a>    date_str <span class="op">=</span> <span class="ss">f"0</span><span class="sc">{</span>date<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a>    date_str <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>date<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a>month_str <span class="op">+</span> <span class="st">"/"</span> <span class="op">+</span> date_str</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="125">
<pre><code>'09/31'</code></pre>
</div>
</div>
<p>It’s quite easy code, but it is still a bit tiring to write this many times. So here comes the function. It can take <em>arguments</em> inside <code>()</code>, and we can pass some values when calling a function.</p>
<div id="27508cb7-ed57-487c-8407-d8ef63bcc951" class="cell" data-execution_count="127">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> format_date_number(number):</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> number <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"0</span><span class="sc">{</span>number<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>number<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>format_date_number(<span class="dv">9</span>) <span class="op">+</span> <span class="st">"/"</span> <span class="op">+</span> format_date_number(<span class="dv">31</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>'09/31'</code></pre>
</div>
</div>
<p>Here, we could simplify the code by defininng the function <code>format_date_number</code>. By spliting code into functions, we can reduce the complexity of our coding.</p>
<section id="recursion" class="level2">
<h2 class="anchored" data-anchor-id="recursion">Recursion</h2>
<p>As long as reusability, there is another clever way to use function, called <em>recursion</em>.</p>
<p>For example, let’s assume that we want to compute <span class="math inline">\(\sum_{i = 0}^{100} i\)</span>. As we learned, we can compute this easily by for loop. However, we can do the same thing using a function recursion.</p>
<div id="63a35aa0-bb8e-4e9f-945d-47ba15003c7b" class="cell" data-execution_count="142">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sum_to_0(i):</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> sum_to_0(i <span class="op">-</span> <span class="dv">1</span>) <span class="op">+</span> i</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>sum_to_0(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="142">
<pre><code>5050</code></pre>
</div>
</div>
<p>Because <span class="math inline">\(\sum_{i = 0}^{k} i = k + \sum_{i = 0}^{k - 1} i\)</span> for all <span class="math inline">\(k &gt; 0\)</span>, we can call the function <code>sum_to_0</code> in the function <code>sum_to_0</code>. This technique is called recursion. I’d say that for loop is often better because it’s simple, but sometimes recursion works like a charm.</p>
<section id="execercise-4.1" class="level3">
<h3 class="anchored" data-anchor-id="execercise-4.1">Execercise 4.1</h3>
<p>Implement <a href="https://en.wikipedia.org/wiki/Euclidean_algorithm">Euclidian Algorithm</a> using recursion.</p>
</section>
</section>
<section id="scope" class="level2">
<h2 class="anchored" data-anchor-id="scope">Scope</h2>
<p>Variable scope around the function is so important. You can remember two rules:</p>
<ol type="1">
<li>In functions, we can refer to the variable outside of the function.</li>
<li>Variables inside the function is not visible from outside.</li>
</ol>
<div id="19a4afd3-f28f-4243-aa3d-1f98812f26bf" class="cell" data-execution_count="143">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>var_out <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scope_demo():</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(var_out)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>    var_in <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>scope_demo()</span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(var_in)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>100</code></pre>
</div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[143], line 8</span>
<span class="ansi-green-fg ansi-bold">      5</span>     var_in <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(98,98,98)">200</span>
<span class="ansi-green-fg ansi-bold">      7</span> scope_demo()
<span class="ansi-green-fg">----&gt; 8</span> <span style="color:rgb(0,135,0)">print</span>(<span class="ansi-yellow-bg">var_in</span>)

<span class="ansi-red-fg">NameError</span>: name 'var_in' is not defined</pre>
</div>
</div>
</div>
<p>So, while we can read <code>var_out</code> inside <code>scope_demo</code> function, <code>var_in</code> is only available inside the function.</p>
<p>Importantly, <em>we can’t change the value of outside variable by assignment inside a function</em>.</p>
<div id="d9e02676-9e9b-488a-af29-2aa29e12167c" class="cell" data-execution_count="144">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>var_out <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scope_demo2():</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>    var_out <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>scope_demo2()</span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>var_out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="144">
<pre><code>100</code></pre>
</div>
</div>
<p>It’s a bit confusing, but when a new variable is assigned in a function, it is treated as the <em>variable inside the function scope</em>. If you really want to avoid this, there are two ways:</p>
<ol type="1">
<li>Use <code>global</code></li>
<li>Use container types like list or dict</li>
</ol>
<div id="df71773b-c7d2-4d83-9445-fdbc382d6c7b" class="cell" data-execution_count="145">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>var_out <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scope_demo3():</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> var_out</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>    var_out <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>scope_demo3()</span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>var_out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="145">
<pre><code>200</code></pre>
</div>
</div>
<p>By placing <code>global var_out</code>, it magically worked. Also, we can change the value of dict inside a function.</p>
<div id="574297f4-4151-448a-b009-7a2a6185a537" class="cell" data-execution_count="146">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>var_out <span class="op">=</span> {<span class="dv">0</span>: <span class="dv">100</span>}</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scope_demo3():</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>    var_out[<span class="dv">0</span>] <span class="op">*=</span> <span class="dv">2</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>scope_demo3()</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>var_out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="146">
<pre><code>{0: 200}</code></pre>
</div>
</div>
<p>This is maybe a bit weird behavior for you (and even for me). But my recommendation is <strong>avoid referencing variables outside the function as much as possible</strong>. It can confuse your brain. Also, not depending on outside variables improves copy-pastablity of your code. I mean, if your code depends on some variables outside the function, you need to copy everything to another file if you want to use. But, if the function is completely independent, it just works by only copy-pasting the function.</p>
<p>Note that your Python can work without writing any function, but I recommend to <strong>put everything inside function</strong> in your Python code. That will make your life easier.</p>
</section>
<section id="type-annotation" class="level2">
<h2 class="anchored" data-anchor-id="type-annotation">Type annotation</h2>
<p>We can annotate function arguments with type.</p>
<div id="1a9eea51-7272-453a-aa6f-2c7efc0bb967" class="cell" data-execution_count="147">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> typed_function(a: <span class="bu">int</span>, b: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"a: </span><span class="sc">{</span>a<span class="sc">}</span><span class="ss"> b: </span><span class="sc">{</span>b<span class="sc">}</span><span class="ss">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The value after <code>-&gt;</code> indicates the type of return value. It is good to annotate arguments for readability.</p>
</section>
</section>
<section id="class" class="level1">
<h1>5: Class</h1>
<section id="basic-class" class="level2">
<h2 class="anchored" data-anchor-id="basic-class">Basic class</h2>
<p>So far, we learned that Python has many builtin types like <code>list</code> or <code>dict</code>. You can define you own one using <code>class</code> syntax.</p>
<div id="2817ac33-322e-42a9-9a93-9c249c2bcec0" class="cell" data-execution_count="148">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> YourClass:</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="0b78f883-7994-4063-a602-5caebb746f78" class="cell" data-execution_count="150">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> YourClass()</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="150">
<pre><code>__main__.YourClass</code></pre>
</div>
</div>
<p>That’s it. Your class can have some special functions called <em>method</em>, that is called by <code>.method()</code> syntax. For example, <code>"{}".format</code> is a method of <code>str</code> class.</p>
<div id="61bf34e4-a768-4b97-ab73-5cf6bcf4bdf6" class="cell" data-execution_count="153">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ClassWithMethod:</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> method(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="3ab4227c-5f43-4188-b486-31ab2fc2372e" class="cell" data-execution_count="155">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>ClassWithMethod().method()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="155">
<pre><code>5</code></pre>
</div>
</div>
<p>Your class can have any values called <em>members</em>. To initialize your class with specific members, you can use a special method called <code>__init__</code>.</p>
<div id="8c4fa5dc-39a4-424f-8995-80dfd600b715" class="cell" data-execution_count="156">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ClassWithMembers:</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> <span class="st">"Me"</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.number <span class="op">=</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="51be68a1-4e18-438e-a064-4be14487117c" class="cell" data-execution_count="158">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> ClassWithMembers()</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>c.name, c.number</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="158">
<pre><code>('Me', 10)</code></pre>
</div>
</div>
<p>The special function used to create an instance of class is called <em>constructor</em>, and it also can take arguments.</p>
<p>class ClassWithFlexibleMembers: def <strong>init</strong>(self, name: str, number: int) -&gt; None: self.name = name self.number = number</p>
<p>c = ClassWithFlexibleMembers(“Mew”, 33) c.name, c.number</p>
<p>Note that the return type of <code>__init__</code> is always <code>None</code>. <code>__init__</code> is called in the constructor inside Python, and it’s not equal to the constructor.</p>
</section>
</section>
<section id="module-imports-and-libraries" class="level1">
<h1>6: Module Imports and Libraries</h1>
<p>Python comes with many <em>module</em>, which are sets of convenient functions anc classes with a specific purpose. Let’s use some.</p>
<div id="1a864c58-860a-4d6d-8eca-ad7c5c8cfa71" class="cell" data-execution_count="161">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>math.pi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="161">
<pre><code>3.141592653589793</code></pre>
</div>
</div>
<p>Here, we’re importing the standard <a href="https://docs.python.org/3/library/math.htm"><code>math</code> module</a> with many convenient mathematical functions.</p>
<div id="8519767d-1ebe-4213-b078-820ed6765730" class="cell" data-execution_count="163">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>math.ceil(<span class="fl">5.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="163">
<pre><code>6</code></pre>
</div>
</div>
<p>Module import has another syntax: if you want to import only a specific set of functions or classes, you can use <code>from module import ~</code> syntax.</p>
<div id="6985486a-fe07-4502-8c35-8cd2842d3020" class="cell" data-execution_count="165">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> ceil </span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>ceil(<span class="fl">5.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="165">
<pre><code>6</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/kngwyu\.github\.io\/rlog2\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>